<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>初探JVM：（三）关于引用传递的文字游戏——从一道题目想到 | Notebook</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">初探JVM：（三）关于引用传递的文字游戏——从一道题目想到</h1><a id="logo" href="/.">Notebook</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">初探JVM：（三）关于引用传递的文字游戏——从一道题目想到</h1><div class="post-meta">Jan 6, 2018<span> | </span><span class="category"><a href="/categories/JVM/">JVM</a></span></div><div class="post-content"><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>做某客的Java题时遇到一道题目，一时间有点懵逼，毕竟值传递啊引用传递啊这种有点类似文字游戏的概念被用来出题真的好么，特别是在Java语言下。<br><br><br><img src="/2018/01/06/call-by-ref/1.png" alt="题目"><br>答案是A、C、D，也是有点懵，毕竟就传统意义来讲，Java应该只有值传递，没有引用传递吧。</p>
<h2 id="Java有没有引用传递？"><a href="#Java有没有引用传递？" class="headerlink" title="Java有没有引用传递？"></a>Java有没有引用传递？</h2><p>个人感觉这种就是文字游戏了，当然就大多数定义来讲，以及与其他语言比较的话（C++， C#），<strong>Java的确是没有引用传递，只有值传递的。</strong></p>
<p><strong>一般来说，值传递是指在调用函数时，传递的参数是实参值的一份拷贝,引用传递则是指在调用函数时，传递的参数是实参的真实地址</strong></p>
<p>相信写过C#就对这两个的区别很清晰了，在C#中用ref、out关键词可以使用引用传递，这也可以看作对C++的一种继承。而在Java中，即使参数是对象类型数据，在调用时，也仅仅是传递了引用（reference）的拷贝而已。这也是为什么在以下代码中，str的值无法改变，而在C#中则可以。</p>
<p>Java:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public static void foo(String str)&#123;</span><br><span class="line">    str = &quot;new_value&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public static void main(String[] args)&#123;</span><br><span class="line">    String str = &quot;old_value&quot;;</span><br><span class="line">    foo(str);</span><br><span class="line">    System.out.println(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>C#:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">static void Foo(ref String str)&#123;</span><br><span class="line">    str = &quot;new_value&quot;;</span><br><span class="line">&#125;</span><br><span class="line">static void Main(String[] args)&#123;</span><br><span class="line">    String str = &quot;old_value&quot;;</span><br><span class="line">    foo(ref str);</span><br><span class="line">    Console.Write(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="如果非得说Java有引用传递呢？"><a href="#如果非得说Java有引用传递呢？" class="headerlink" title="如果非得说Java有引用传递呢？"></a>如果非得说Java有引用传递呢？</h2><p>如果非得说Java有引用传递，那么只能按值的类型来划分了，<strong>把基本类型参数的传递看作是值传递，把引用类型（对象）参数类型的传递看作是引用传递了</strong>，这样的话，这道题目的解的确是A、C、D。</p>
<h2 id="这世上只有值传递？"><a href="#这世上只有值传递？" class="headerlink" title="这世上只有值传递？"></a>这世上只有值传递？</h2><p>如果硬把所有传递的是”值“的传递就作为”值传递“，那么在C#和C++中所谓的”引用传递“也不过是把真实的引用地址这个”值“传过去了，要这么咬文嚼字的话，那世上也就没有”引用传递“了。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>不管是中文还是英文，一个单词的概念也不是一成不变的，有时候还是得分场景来说，纠结于Java有没有引用传递，很多时候有点像一个文字游戏。当然，<strong>这个游戏在大部分情况是有答案的——那就是在Java中，没有引用传递，只有值传递。</strong></p>
</div><div class="tags"><a href="/tags/想想/">想想</a></div><div class="post-nav"><a class="pre" href="/2018/01/07/CAS/">初探JVM：（四）并发的基石——CAS操作</a><a class="next" href="/2017/12/31/stack-allocation/">初探JVM：（二）从逃逸分析到栈上分配</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ClouderaManager/">CDH运维</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/">JVM</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构与算法/">数据结构与算法</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/并发/" style="font-size: 15px;">并发</a> <a href="/tags/Kafka/" style="font-size: 15px;">Kafka</a> <a href="/tags/想想/" style="font-size: 15px;">想想</a> <a href="/tags/JIT优化/" style="font-size: 15px;">JIT优化</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/01/22/non-recur-pre-in-post/">二叉树的各序遍历非递归实现——O(h)空间复杂度</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/08/backtrack/">撞了南墙就回头的backtracking算法</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/07/CAS/">初探JVM：（四）并发的基石——CAS操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/06/call-by-ref/">初探JVM：（三）关于引用传递的文字游戏——从一道题目想到</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/31/stack-allocation/">初探JVM：（二）从逃逸分析到栈上分配</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/20/CDH集群运维——安装Kafka/">CDH集群运维——安装Kafka</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/17/interpreter-compiler/">初探JVM：（一）从OpenJDK看Javac</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://fjhe.github.io/" title="不吃宵夜？" target="_blank">不吃宵夜？</a><ul></ul><a href="http://notes.grayzlp.com/" title="摸眼R闪的他" target="_blank">摸眼R闪的他</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">Notebook.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>